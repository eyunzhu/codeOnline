<!doctype html>

<head>
    <title>freemarker 在线编辑器</title>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="../../../css/ambiance.css">
    <link rel="stylesheet" href="../../../css/codemirror.css">
    <!--全屏模式-->
    <link rel="stylesheet" href="../../../css/fullscreen.css">
    <!--自动补全-->
    <link rel="stylesheet" href="../../../css/show-hint.css">
    <!--<script src="../../../js/anyword-hint.js"></script>-->
    <!--<script src="../html-hint.js"></script>-->
    <!--<script src="../javascript-hint.js"></script>-->
    <!--<script src="../css-hint.js"></script>-->


</head>

<body>
    <h2> freemarker 在线编辑器</h2>
    <textarea id="code" name="code"></textarea>
    <input type='button' value="复制" />
    <script src="../../../js/codemirror.js"></script>
    <!--全屏模式-->
    <script src="../../../js/fullscreen.js"></script>
    <!--显示html相关插件-->
    <script src="../xml.js"></script>
    <script src="../javascript.js"></script>
    <script src="../css.js"></script>
    <script src="../htmlmixed.js"></script>
    <!--显示xml的插件-->
    <script src="freemarker.js"></script>
    <script src="freemarkermixed.js"></script>
    <!--关闭标签-->
    <script src="../../../js/xml-fold.js"></script>
    <script src="../../../js/closetag.js"></script>
    <!--代码提示-->
    <script src="../../../js/show-hint.js"></script>
    <script src="../javascript-hint.js"></script>
    <script type="text/javascript">
        (function () {
            window.onload = function () {
                var myCodeMirror = CodeMirror.fromTextArea(document.getElementById("code"), {
                    // 选用的模板
                    // mode: "freemarkermixed",
                     mode: "javascript",
                    // tab 产生的个空格
                    tabSize: 4,
                    // 缩进单位
                    indentUnit: 4,
                    // tab 产生的个空格
                    indentWithTabs: true,
                    // 是否显示行号
                    lineNumbers: true,
                    theme: "ambiance",
                    //自动关闭标签
                    autoCloseTags: true,

                    //代码折叠
                    lineWrapping: true,
                    foldGutter: true,
                    gutters: ["CodeMirror-linenumbers", "CodeMirror-foldgutter"],

                    //全屏模式
                    fullScreen: false,
                    // theme: "night",
                    extraKeys: {
                        "Ctrl-F": function (cm) {
                            cm.setOption("fullScreen", !cm.getOption("fullScreen"));
                        },
                        "Esc": function (cm) {
                            if (cm.getOption("fullScreen")) cm.setOption("fullScreen", false);
                        },
                        //  "Ctrl": "autocomplete"
                    }
                });
                // myCodeMirror.autocomplete = function (cm) {
                //         myCodeMirror.showHint(cm, myCodeMirror.javascriptHint);
                //     }
                myCodeMirror.on("change", function (editor, change) { //任意键触发autocomplete
                    if (change.origin == "+input") {
                        var text = change.text;
                        // if(!ignoreToken(text))//不提示
                        setTimeout(function () {
                            myCodeMirror.execCommand("autocomplete");
                        }, 20);
                    }
                });
            }
        })()
    </script>
</body>

</html>